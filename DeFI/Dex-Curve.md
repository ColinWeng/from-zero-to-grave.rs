## Uniswap 和 Curve 的核心机制差异

### 1. 目标场景

- **Uniswap**：通用型去中心化交易所，目标是支持任意代币对交易（含高波动币对如 ETH/BNB、小众币对），核心追求「普适性」和「易用性」，适配小额到中额交易。
- **Curve**：专用型去中心化交易所，仅聚焦稳定币（USDC/DAI/USDT）和相近价值资产（stETH/ETH、wBTC/BTC.b），核心追求「低滑点」和「大额适配性」，专门服务大额稳定币互换场景。

### 2. AMM 核心模型

- **Uniswap**：
  - V2：纯「恒定乘积模型（x*y=k）」，价格由池内资产数量比决定，无价格锚定。
  - V3：「集中流动性 + 恒定乘积」，LP 可将流动性集中在特定价格区间，提升资本效率，但本质仍基于恒定乘积。
- **Curve**：
  - 「StableSwap 混合模型」，融合「恒定和（x+y+z=k）」和「恒定乘积（x*y*z=k）」：
    - \(A \cdot x \cdot y + (x + y) = A \cdot x_0 \cdot y_0 + (x_0 + y_0)\)
  
  - 资产比例接近锚定价格（如 1:1）时，偏向恒定和，滑点极小；
  - 资产比例大幅偏离时，偏向恒定乘积，避免极端滑点和资产挤兑。
  

### 3. 关键参数

- **Uniswap**：
  - V2：无核心可调参数，流动性均匀分布在全价格区间。
  - V3：核心参数是「Tick Spacing（刻度间距）」，由手续费等级决定（0.05%/0.3%/1%），控制流动性区间的精度。
- **Curve**：核心参数是「放大系数（A 值）」和「虚拟恒定总和（D 值）」：
  - A 值越大，模型越接近恒定和，滑点越低（稳定币池 A 值通常 1000+）；
  - D 值 `(x + y)` 代表池内有效流动性总量，D 值越大，越能支撑大额交易。

### 4. 流动性管理

- **Uniswap**：
  - V2：强制双资产按当前池内比例提供流动性，LP 只能赎回对应的两种资产。
  - V3：仍为双资产池，LP 需指定价格区间提供流动性，赎回时仅能拿回两种资产，区间外流动性休眠。
- **Curve**：
  - 支持多资产池（如 3Pool：USDC/DAI/USDT），LP 可单边充提单一资产（无需按比例）。
  - 赎回时可选择任意一种或多种池内资产，按当前比例分配，但单边操作可能触发惩罚费用。

### 5. 收益机制

- **Uniswap**：LP 收益仅来自交易手续费（V2 固定 0.3%，V3 按等级 0.05%-1%），无额外协议激励（早期有 UNI 空投，非持续性）。
- **Curve**：LP 收益是「交易手续费（稳定币池通常 0.04%）+ 协议激励（CRV 代币）+ 底层资产收益（如 Compound 利息、stETH 质押奖励）」，收益来源更丰富。

### 6. 滑点与交易成本

- **Uniswap**：
  - 稳定币 / 低波动资产交易：滑点极高（V2），V3 需手动集中流动性才能降低滑点，但操作复杂。
  - 高波动资产交易：滑点可控，适合中小额交易，Gas 成本中等（V3 因区间计算略高）。
- **Curve**：
  - 稳定币 / 低波动资产交易：滑点接近 0（大额交易优势明显），手续费极低。
  - 非稳定资产交易：完全不适用，滑点极高；Gas 成本较高（V2 动态机制进一步推高），小额交易性价比低。

### 核心差异总结

| 维度       | Uniswap（V2/V3）                            | Curve（V1/V2）                           |
| ---------- | ------------------------------------------- | ---------------------------------------- |
| 定位       | 通用型 DEX，适配所有代币对                  | 专用型 DEX，聚焦稳定币 / 相近价值资产    |
| AMM 模型   | 恒定乘积（V2）/ 集中流动性 + 恒定乘积（V3） | StableSwap 混合模型（恒定和 + 恒定乘积） |
| 核心参数   | Tick Spacing（V3）                          | A 值、D 值                               |
| 流动性形态 | 双资产池，全区间 / 指定区间流动性           | 多资产池，支持单边充提，流动性全局生效   |
| 滑点表现   | 稳定币交易滑点高，高波动币交易滑点可控      | 稳定币大额交易滑点接近 0，非稳定币不适用 |
| 收益来源   | 仅交易手续费                                | 手续费 + CRV 激励 + 底层资产收益         |


